# TenYun

Promise based and Chainable Tencent Cloud OpenAPI client for NodeJS

## 设计

核心包通过实例化后两次`Proxy`动态代理，第一层代理 `产品标识`，第二层代理`产品服务` 实现了通过一个实例接入腾讯云各产品服务的能力，默认为`最新`版本的接口接入，同时提供`往期`版本(通过第二参数传递`X-Tc-Version`头)的接入能力。

## 使用

`npm install tenyun`

```js
import TenYun from 'tenyun';

const secretId = 'AKIDz8krbsJ5yKBZQpn74WFkmLPx3*******';
const secretKey = 'Gu5t9xGARNpq86cd98joQYCN3*******';

const tc = new TenYun(secretId, secretKey);

const sampleRequest = {Limit: 1, Filters: [ { Values: [ '未命名' ], Name: 'instance-name' } ]};
tc.cvm.DescribeInstances(sampleRequest)
.then(({data}) => console.info(data))
.catch(error) => console.error(error.code));

(async () => {
  try {
    const {data} = await tc.cvm.DescribeInstances(sampleRequest);
    console.info(data);
  } catch(error) {
    console.error(error);
  }
})();

console.info(tc);

TenYun {
  cvm: [Function: cvm.tencentcloudapi.com] {
    DescribeInstances: [AsyncFunction: DescribeInstances]
  },
  [Symbol(SECRET_ID)]: 'AKIDz8krbsJ5yKBZQpn74WFkmLPx3*******',
  [Symbol(SECRET_KEY)]: SecretKeyObject { [Symbol(kKeyType)]: 'secret' }
}
```

## API

### `new TenYun(SecretId: string, SecretKey: BinaryLike, Token?: string, Region?: string)`

| 参数 | 类型 | 说明 |
| --- | --- | --- |
| SecretId | <code>string</code> | 密钥ID |
| SecretKey | <code>BinaryLike</code> | 密钥 |
| Token | <code>string</code> | 临时安全凭证(可选) |
| Region | <code>string</code> | 地域参数(可选) |

### `TenYun[ServiceShortName]() => string[]`

返回支持的服务版本 `YYYY-MM-DD` 格式字符串数组，`DESC` 排序。

### `TenYun[ServiceShortName][ActionName](data?: any, config?: AxiosRequestConfig) => AxiosPromise`

请求对应产品的服务。

### `TenYun.client => AxiosInstance`

返回 `Axios` 实例。


## 支持的产品及服务

产品标识 | 产品说明 | 服务版本(数)
--- | --- | ---
aa | 活动防刷 | 2020-02-24(1)
aai |  | 2018-05-22(4)
acp | 应用合规平台 | 2022-01-05(7)
advisor | 云顾问 | 2020-07-21(2)
af | 借贷反欺诈 | 2020-02-26(3)
afc | 定制建模 | 2020-02-26(2)
ame | 正版曲库直通车 | 2019-09-16(31)
ams | 音频内容检测 | 2020-12-29(5) 2020-06-08(7)
antiddos | DDoS 防护 | 2020-03-09(91)
apcas | 汽车精准获客服务 | 2020-11-27(7)
ape | 正版图库直通车 | 2020-05-13(8)
api | 云 API | 2020-11-06(3)
apigateway | API网关 | 2018-08-08(96)
apm | 应用性能观测 | 2021-06-22(6)
asr | 语音识别 | 2019-06-14(19)
asw | 应用与服务编排工作流 | 2020-07-22(9)
as | 弹性伸缩 | 2018-04-19(50)
ba | 网站备案 | 2020-07-20(3)
batch | 批量计算 | 2017-03-12(31)
bda | 人体分析 | 2020-03-24(18)
bi | 商业智能分析 BI | 2022-01-05(2)
billing | 计费相关 | 2018-07-09(20)
bizlive | 商业直播 | 2019-03-13(6)
bm | 黑石物理服务器1.0 | 2018-04-23(53)
bma | 品牌经营管家 | 2021-06-24(28)
bmeip | 黑石弹性公网IP | 2018-06-25(20)
bmlb | 黑石负载均衡 | 2018-06-25(49)
bmvpc | 黑石私有网络 | 2018-06-25(61)
bpaas | 商业流程服务 | 2018-12-17(2)
bri | 业务风险情报 | 2019-03-28(1)
bsca | 二进制软件成分分析 | 2021-08-11(5)
btoe | 区块链可信取证 | 2021-05-14(13) 2021-03-03(12)
cam | 访问管理 | 2019-01-16(83)
captcha | 验证码 | 2019-07-22(14)
car | 应用云渲染 | 2022-01-10(3)
casb | 云数据加密代理网关 | 2020-05-07(1)
cat | 云拨测 | 2018-04-09(10)
cbs | 云硬盘 | 2017-03-12(42)
ccc | 云呼叫中心 | 2020-02-10(26)
cdb | 云数据库 MySQL | 2017-03-20(135)
cdc | 本地专用集群 | 2020-12-14(20)
cdn | 内容分发网络 | 2018-06-06(78)
cds | 数据安全审计 | 2018-04-20(6)
cfg | 混沌演练平台 | 2021-08-20(10)
cfs | 文件存储 | 2019-07-19(32)
cfw | 云防火墙 | 2019-09-04(62)
chdfs | 云 HDFS | 2020-11-12(29) 2019-07-18(26)
ciam | 账号风控平台 | 2022-03-31(15)
cii | 智能保险助手 | 2021-04-08(13) 2020-12-10(3)
cim |  | 2019-03-18(1)
cis |  | 2018-04-08(7)
ckafka | 消息队列 Ckafka | 2019-08-19(65)
clb | 负载均衡 | 2018-03-17(76)
cloudaudit | 云审计 | 2019-03-19(18)
cloudhsm | 云加密机 | 2019-11-12(11)
cloudstudio | 云端 IDE | 2021-05-24(20)
cls | 日志服务 | 2020-10-16(60)
cme | 多媒体创作引擎 | 2019-10-29(49)
cmq | 消息队列 CMQ | 2019-03-04(17)
cms | 内容安全 | 2019-03-21(9)
cpdp | 企业收付平台 | 2019-08-20(212)
cr | 金融联络机器人 | 2018-03-21(28)
cvm | 云服务器 | 2017-03-12(87)
cwp | 主机安全 | 2018-02-28(223)
cws | 漏洞扫描服务 | 2018-03-12(19)
cynosdb | 云原生数据库 TDSQL-C | 2019-01-07(62)
dasb | 堡垒机 | 2019-10-18(24)
dataintegration | 数据接入平台 | 2022-06-13(1)
dayu | DDoS 高防包 | 2018-07-09(112)
dbbrain | 数据库智能管家 DBbrain | 2021-05-27(43) 2019-10-16(27)
dbdc | 云数据库独享集群 | 2020-10-29(6)
dc | 专线接入 | 2018-04-10(21)
dcdb | 分布式数据库 TDSQL | 2018-04-11(57)
dlc | 数据湖计算 | 2021-01-25(60)
dnspod | DNSPod | 2021-03-23(40)
domain | 域名注册 | 2018-08-08(26)
drm | 数字版权管理 | 2018-11-15(9)
ds | 电子合同服务 | 2018-05-23(12)
dtf | 分布式事务 | 2020-05-06(1)
dts | 数据传输服务 | 2018-03-30(23)
eb | 事件总线 | 2021-04-16(26)
ecc | 英文作文批改 | 2018-12-13(4)
ecdn | 全站加速网络 | 2019-10-12(16)
ecm | 边缘计算机器 | 2019-07-19(130)
eiam | 数字身份管控平台（员工版） | 2021-04-20(42)
eis | 企业集成服务 | 2021-06-01(5) 2020-07-15(3)
emr | 弹性 MapReduce | 2019-01-03(24)
es | Elasticsearch Service | 2018-04-16(37)
ess | 电子签服务 | 2020-11-11(24)
essbasic | 腾讯电子签（基础版） | 2021-05-26(25) 2020-12-22(53)
facefusion | 人脸融合 | 2018-12-01(4)
faceid | 人脸核身 | 2018-03-01(45)
fmu | 人脸试妆 | 2019-12-13(10)
ft | 人像变换 | 2020-03-04(6)
gaap | 全球应用加速 | 2018-05-29(102)
gme | 游戏多媒体引擎 | 2018-07-11(23)
gpm | 游戏玩家匹配 | 2020-08-20(18)
gs | 云游戏解决方案 | 2019-11-18(8)
gse | 游戏服务器伸缩 | 2019-11-12(74)
habo |  | 2018-12-03(2)
hcm | 数学作业批改 | 2018-11-06(1)
iai | 人脸识别 | 2020-03-03(35) 2018-03-01(33)
ic | 物联卡 | 2019-03-07(9)
icr | 对话机器人 | 2021-10-14(1)
ie | 智能编辑 | 2020-03-04(10)
iecp | 物联网边缘计算平台 | 2021-09-14(102)
iir | 智能识图 | 2020-04-17(1)
ims | 图片内容安全 | 2020-12-29(1) 2020-07-13(3)
iot | 加速物联网套件 | 2018-01-23(45)
iotcloud | 物联网通信 | 2021-04-08(72) 2018-06-14(69)
iotexplorer | 物联网开发平台 | 2019-04-23(89)
iottid | 物联网设备身份认证 | 2019-04-11(9)
iotvideo | 物联网智能视频服务 | 2021-11-25(94) 2019-11-26(66) 2020-12-15(79)
iotvideoindustry | 物联网智能视频服务（行业版） | 2020-12-01(104)
irp | 智能推荐平台 | 2022-08-05(4) 2022-03-24(4)
ivld | 视频智能标签 | 2021-09-03(25)
kms | 密钥管理系统 | 2019-01-18(49)
lcic | 低代码互动课堂 | 2022-08-17(14)
lighthouse | 轻量应用服务器 | 2020-03-24(68)
live | 云直播 | 2018-08-01(121)
lowcode | 云开发低码 | 2021-01-08(1)
lp | 登录保护 | 2020-02-24(1)
mariadb | 云数据库 MariaDB | 2017-03-12(60)
market | 云市场 | 2019-10-10(2)
memcached | 云数据库 Memcached | 2019-03-18(1)
mgobe | 游戏联机对战引擎 | 2020-10-14(7) 2019-09-29(1)
mmps | 小程序安全 | 2020-07-10(15)
mna | 移动网络加速 | 2021-01-19(10)
mongodb | 云数据库 MongoDB | 2019-07-25(33) 2018-04-08(13)
monitor | 云监控 | 2018-07-24(112)
mps | 视频处理 | 2019-06-12(65)
mrs | 医疗报告结构化 | 2020-09-10(4)
ms | 移动应用安全 | 2018-04-08(17)
msp | 迁移服务平台 | 2018-03-19(7)
mvj | 营销价值判断 | 2019-09-26(1)
nlp | 自然语言处理 | 2019-04-08(24)
npp | 号码保护 | 2019-08-23(8)
oceanus | 流计算 Oceanus | 2019-04-22(25)
ocr | 文字识别 | 2018-11-19(77)
organization | 企业组织 | 2021-03-31(5) 2018-12-25(20)
partners | 渠道合作伙伴 | 2018-03-21(21)
pds | 私域安全 | 2021-07-01(2)
postgres | 云数据库 PostgreSQL | 2017-03-12(63)
privatedns | 私有域解析 Private DNS | 2020-10-28(20)
pts | 云压测 | 2021-07-28(43)
rce | 全栈式风控引擎 | 2020-11-03(3)
redis | 云数据库 Redis | 2018-04-12(86)
region | 地域管理系统 | 2022-06-27(3)
rkp | 风险探针 | 2019-12-09(3)
rp | 注册保护 | 2020-02-24(1)
rum | 前端性能监控 | 2021-06-22(54)
scf | 云函数 | 2018-04-16(44)
ses | 邮件推送 | 2020-10-02(25)
smh | 智能媒资托管 | 2021-07-12(10)
smpn | 营销号码安全 | 2019-08-22(5)
sms | 短信 | 2021-01-11(18) 2019-07-11(16)
soe | 智聆口语评测 | 2018-07-24(4)
solar | 智汇零售 | 2018-10-11(17)
sqlserver | 云数据库 SQL Server | 2018-03-28(104)
ssa | 安全运营中心 | 2018-06-08(21)
ssl | 证书 | 2019-12-05(28)
sslpod | SSL 证书监控 | 2019-06-05(10)
ssm | 凭据管理系统 | 2019-09-23(24)
sts | 安全凭证服务 | 2018-08-13(6)
taf | 流量反欺诈 | 2020-02-10(3)
tag | 标签 | 2018-08-13(29)
tan | 碳引擎 | 2022-04-20(1)
tat | 腾讯云自动化助手 | 2020-10-28(19)
tav | 文件检测 | 2019-01-18(4)
tbaas | TBaaS | 2018-04-16(33)
tbm |  | 2018-01-29(9)
tbp | 腾讯智能对话平台 | 2019-06-27(2) 2019-03-11(4)
tcaplusdb | 游戏数据库 TcaplusDB | 2019-08-23(50)
tcb | 云开发 CloudBase | 2018-06-08(80)
tcbr | 云托管 CloudBase Run | 2022-02-17(10)
tcex | 腾讯云释义 | 2020-07-27(2)
tci | 腾讯智学课堂分析 | 2019-03-18(41)
tcm | 服务网格 | 2021-04-13(5)
tcr | 容器镜像服务 | 2019-09-24(108)
tcss | 容器安全服务 | 2020-11-01(166)
tdcpg | TDSQL-C PostgreSQL 版 | 2021-11-18(25)
tdid | 分布式身份 | 2021-05-19(8)
tdmq | 分布式消息队列 | 2020-02-17(99)
tds | 设备安全 | 2022-08-01(3)
tem | 弹性微服务 | 2021-07-01(50) 2020-12-21(17)
teo | 边缘安全加速平台 | 2022-09-01(125) 2022-01-06(96)
thpc | 高性能计算平台 | 2022-04-01(6) 2021-11-09(4)
tia | 智能钛机器学习 | 2018-02-26(10)
tic | 腾讯云IaC平台 | 2020-11-17(13)
ticm | 智能鉴黄 | 2018-11-27(3)
tics | 威胁情报云查服务 | 2018-11-15(4)
tiems | 腾讯云 TI 平台 TI-EMS | 2019-04-16(25)
tiia | 图像分析 | 2019-05-29(19)
tione | 腾讯云 TI 平台 TI-ONE | 2021-11-11(33) 2019-10-22(23)
tiw | 互动白板 | 2019-09-19(28)
tke | 容器服务 | 2018-05-25(172)
tkgdq | 腾讯知识图谱数据查询 | 2019-04-11(3)
tms | 文本内容安全 | 2020-12-29(1) 2020-07-13(4)
tmt | 机器翻译 | 2018-03-21(7)
trp | T-Sec-安心平台(RP) | 2021-05-15(39)
trtc | 实时音视频 | 2019-07-22(32)
tse | 腾讯云微服务引擎 | 2020-12-07(10)
tsf | 腾讯微服务平台 TSF | 2018-03-26(191)
tsw | 腾讯微服务观测平台 TSW | 2021-04-12(3) 2020-09-24(1)
tts | 语音合成 | 2019-08-23(3)
ump | 客流数字化平台 | 2020-09-18(17)
vm | 视频内容安全 | 2021-09-22(4) 2020-07-09(5) 2020-12-29(4)
vms | 语音消息 | 2020-09-02(2)
vod | 云点播 | 2018-07-17(134)
vpc | 私有网络 | 2017-03-12(286)
waf | Web 应用防火墙 | 2018-01-25(35)
wav | 企业微信汽车行业版 | 2021-01-29(22)
wedata | 数据开发治理平台 WeData | 2021-08-20(51)
wss | SSL证书管理服务 | 2018-04-26(3)
yinsuda | 音速达直播音乐版权引擎 | 2022-05-27(12)
youmall |  | 2018-02-28(31)
yunjing | 主机安全 | 2018-02-28(100)
yunsou | 腾讯云搜 | 2019-11-15(2) 2018-05-04(2)
zj | 珠玑 | 2019-01-21(21)
--- | --- | ---
--- | 共计 | 7992+

## License

[MIT](LICENSE)
